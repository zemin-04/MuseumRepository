<!DOCTYPE html>
<html lang="zh" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

	<head>
		<meta charset="UTF-8" />
		<title></title>
	</head>

	<body>
		<div class="page">
			<div class="page__hd">
				<h1 class="page__title">Museum</h1>
				<p class="page__desc">介绍museum</p>
			</div>
			<div class="page__bd">
				<div class="weui-cells__title">用户管理</div>
				<div class="weui-cells" th:each="user,iterStat : ${userList}">
					<a class="weui-cell weui-cell_access" href="javascript:;">
						<div class="weui-cell__bd">
							<div class="weui-flex">
								<div class="weui-flex__item">
									<div class="placeholder" th:text="${user.nickname}"></div>
								</div>
								<div class="weui-flex__item">
									<div class="placeholder" th:text="${user.sex}"></div>
								</div>
								<div class="weui-flex__item">
									<div class="placeholder" th:text="${user.city}"></div>
								</div>
								<div class="weui-flex__item">
									<div class="placeholder" th:text="${user.language}"></div>
								</div>
							</div>
						</div>
						<div class="weui-cell__ft">用户详情</div>
					</a>
				</div>
			</div>
			<div class="page__ft">
				<div class="weui-footer">
					<p class="weui-footer__links">
						<a href="#" class="weui-footer__link">底部链接</a>
					</p>
					<p class="weui-footer__text">Copyright © 2018 Museum</p>
				</div>
			</div>
		</div>
	</body>
	
	<script th:src="@{/js/jquery.min.js}"></script>
	<script type="text/javascript">
		$(function() {
			
			$('#showRelicPicker').on('click', function () {
	        	$.get("/museum/theme/themeRelics", function(data){
	        		var themeArr=new Array();
	                $.each(data, function(i, theme) {
	                	var relicsArr=new Array();
	                	$.each(theme.culturalrelicss, function(j, relics){
	                		var relics={'label':relics.culturalrelicsName, 'value':relics.culturalrelicsId};
	                		relicsArr.push(relics);
	                	});
	                	var theme={'label':theme.themeName, 'value':theme.themeId, 'children':relicsArr};
	                	themeArr.push(theme);
	                });
	             	// 级联picker
					weui.picker(themeArr, {
					   className: 'custom-classname',
					   container: 'body',
					   defaultValue: [1, 3],
					   onChange: function (result) {
					       console.log(result);
					   },
					   onConfirm: function (result) {
					       console.log(result);
					       $('#showRelicPicker').val(result[0].label + result[1].label);
					   },
					   id: 'doubleLinePicker'
					});
	            });
		    });

		});
	</script>
</html>